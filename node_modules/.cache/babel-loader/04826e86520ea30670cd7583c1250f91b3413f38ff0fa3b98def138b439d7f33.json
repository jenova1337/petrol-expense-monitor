{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Mileage=()=>{const[mileage,setMileage]=useState(null);useEffect(()=>{const reserves=JSON.parse(localStorage.getItem(\"reserveLogs\"))||[];const petrols=JSON.parse(localStorage.getItem(\"petrolLogs\"))||[];const all=[...reserves.map(r=>({type:\"reserve\",date:new Date(r.date),km:parseFloat(r.km)})),...petrols.map(p=>({type:\"petrol\",date:new Date(p.date),km:parseFloat(p.km),liters:parseFloat(p.liters)}))].sort((a,b)=>a.date-b.date);let A=null,B=null,C=null,L=null;for(let i=0;i<all.length;i++){if(all[i].type===\"reserve\"){if(!A)A=all[i];else if(B&&!C){C=all[i];break;}}else if(A&&!B&&all[i].type===\"petrol\"){B=all[i];L=all[i].liters;}}if(A&&B&&C&&L){const result=((C.km-A.km)/L).toFixed(2);setMileage(result);}},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Mileage Report\"}),mileage?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDEF5 Mileage:\"}),\" \",mileage,\" km/l\"]}):/*#__PURE__*/_jsx(\"p\",{children:\"No mileage data to show. Add at least Reserve \\u2192 Petrol \\u2192 Reserve.\"})]});};export default Mileage;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Mileage","mileage","setMileage","reserves","JSON","parse","localStorage","getItem","petrols","all","map","r","type","date","Date","km","parseFloat","p","liters","sort","a","b","A","B","C","L","i","length","result","toFixed","style","padding","children"],"sources":["/data/data/com.termux/files/home/petrol-expense-monitor-full/src/components/Mileage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst Mileage = () => {\n  const [mileage, setMileage] = useState(null);\n\n  useEffect(() => {\n    const reserves = JSON.parse(localStorage.getItem(\"reserveLogs\")) || [];\n    const petrols = JSON.parse(localStorage.getItem(\"petrolLogs\")) || [];\n\n    const all = [\n      ...reserves.map(r => ({ type: \"reserve\", date: new Date(r.date), km: parseFloat(r.km) })),\n      ...petrols.map(p => ({ type: \"petrol\", date: new Date(p.date), km: parseFloat(p.km), liters: parseFloat(p.liters) }))\n    ].sort((a, b) => a.date - b.date);\n\n    let A = null, B = null, C = null, L = null;\n\n    for (let i = 0; i < all.length; i++) {\n      if (all[i].type === \"reserve\") {\n        if (!A) A = all[i];\n        else if (B && !C) {\n          C = all[i];\n          break;\n        }\n      } else if (A && !B && all[i].type === \"petrol\") {\n        B = all[i];\n        L = all[i].liters;\n      }\n    }\n\n    if (A && B && C && L) {\n      const result = ((C.km - A.km) / L).toFixed(2);\n      setMileage(result);\n    }\n  }, []);\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h3>ðŸ“Š Mileage Report</h3>\n      {mileage ? (\n        <p><strong>ðŸ›µ Mileage:</strong> {mileage} km/l</p>\n      ) : (\n        <p>No mileage data to show. Add at least Reserve â†’ Petrol â†’ Reserve.</p>\n      )}\n    </div>\n  );\n};\n\nexport default Mileage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}