{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Mileage=()=>{const[logs,setLogs]=useState([]);useEffect(()=>{const constants=JSON.parse(localStorage.getItem(\"mileageConstants\"))||[];const sorted=constants.map(e=>({...e,dateObj:new Date(e.date)})).sort((a,b)=>a.dateObj-b.dateObj);const results=[];for(let i=0;i<sorted.length-2;i++){const a=sorted[i];const b=sorted[i+1];const c=sorted[i+2];if(a.type===\"reserve\"&&b.type===\"petrol\"&&c.type===\"reserve\"){const distance=c.km-a.km;const mileage=b.litres>0?(distance/b.litres).toFixed(2):\"N/A\";results.push({before:a.km,litres:b.litres,after:c.km,mileage});}}setLogs(results);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Mileage Report\"}),logs.length>0?/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"6\",style:{borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Before Petrol Reserved KM\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Petrol Poured (Litres)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"After Petrol Reserved KM\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mileage (km/l)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:logs.map((entry,i)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:entry.before}),/*#__PURE__*/_jsx(\"td\",{children:entry.litres}),/*#__PURE__*/_jsx(\"td\",{children:entry.after}),/*#__PURE__*/_jsx(\"td\",{children:entry.mileage})]},i))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCED No valid Reserve \\u2192 Petrol \\u2192 Reserve sequence found.\"})]});};export default Mileage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Mileage","logs","setLogs","constants","JSON","parse","localStorage","getItem","sorted","map","e","dateObj","Date","date","sort","a","b","results","i","length","c","type","distance","km","mileage","litres","toFixed","push","before","after","style","padding","children","border","cellPadding","borderCollapse","entry"],"sources":["/data/data/com.termux/files/home/petrol-expense-monitor-full/src/components/Mileage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst Mileage = () => {\n  const [logs, setLogs] = useState([]);\n\n  useEffect(() => {\n    const constants = JSON.parse(localStorage.getItem(\"mileageConstants\")) || [];\n    const sorted = constants\n      .map(e => ({ ...e, dateObj: new Date(e.date) }))\n      .sort((a, b) => a.dateObj - b.dateObj);\n\n    const results = [];\n    for (let i = 0; i < sorted.length - 2; i++) {\n      const a = sorted[i];\n      const b = sorted[i + 1];\n      const c = sorted[i + 2];\n\n      if (a.type === \"reserve\" && b.type === \"petrol\" && c.type === \"reserve\") {\n        const distance = c.km - a.km;\n        const mileage = b.litres > 0 ? (distance / b.litres).toFixed(2) : \"N/A\";\n        results.push({\n          before: a.km,\n          litres: b.litres,\n          after: c.km,\n          mileage,\n        });\n      }\n    }\n    setLogs(results);\n  }, []);\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h3>ðŸ“Š Mileage Report</h3>\n      {logs.length > 0 ? (\n        <table border=\"1\" cellPadding=\"6\" style={{ borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th>S.No</th>\n              <th>Before Petrol Reserved KM</th>\n              <th>Petrol Poured (Litres)</th>\n              <th>After Petrol Reserved KM</th>\n              <th>Mileage (km/l)</th>\n            </tr>\n          </thead>\n          <tbody>\n            {logs.map((entry, i) => (\n              <tr key={i}>\n                <td>{i + 1}</td>\n                <td>{entry.before}</td>\n                <td>{entry.litres}</td>\n                <td>{entry.after}</td>\n                <td>{entry.mileage}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <p>ðŸ“­ No valid Reserve â†’ Petrol â†’ Reserve sequence found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default Mileage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}