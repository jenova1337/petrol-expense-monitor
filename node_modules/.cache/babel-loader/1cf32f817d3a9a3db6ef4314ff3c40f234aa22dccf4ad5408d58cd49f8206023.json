{"ast":null,"code":"// src/components/Mileage.js\nimport React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Mileage=()=>{const[mileageLogs,setMileageLogs]=useState([]);useEffect(()=>{const reserves=JSON.parse(localStorage.getItem(\"reserveLogs\"))||[];const petrols=JSON.parse(localStorage.getItem(\"petrolLogs\"))||[];const sortedReserves=reserves.map(r=>({...r,type:\"reserve\",km:parseFloat(r.km),date:new Date(r.date)}));const sortedPetrols=petrols.map(p=>({...p,type:\"petrol\",km:parseFloat(p.km),litres:parseFloat(p.litres),date:new Date(p.date)}));const all=[...sortedReserves,...sortedPetrols].sort((a,b)=>a.date-b.date);const logs=[];for(let i=0;i<all.length-2;i++){if(all[i].type===\"reserve\"&&all[i+1].type===\"petrol\"&&all[i+2].type===\"reserve\"){const beforeReserve=all[i];const petrol=all[i+1];const afterReserve=all[i+2];const distance=afterReserve.km-beforeReserve.km;const mileage=petrol.litres&&petrol.litres!==0?(distance/petrol.litres).toFixed(2):\"N/A\";logs.push({date:afterReserve.date.toLocaleString(),bike:petrol.bike,beforeReserveKm:beforeReserve.km,petrolKm:petrol.km,afterReserveKm:afterReserve.km,litres:petrol.litres,mileage});}}setMileageLogs(logs);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Mileage Report\"}),mileageLogs.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No mileage data to show. Add at least Reserve \\u2192 Petrol \\u2192 Reserve.\"}):/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"6\",style:{borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Bike\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Before Reserve (Km)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Petrol Fill (Km)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"After Reserve (Km)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Litres\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mileage (Km/L)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:mileageLogs.map((entry,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:entry.date}),/*#__PURE__*/_jsx(\"td\",{children:entry.bike}),/*#__PURE__*/_jsx(\"td\",{children:entry.beforeReserveKm}),/*#__PURE__*/_jsx(\"td\",{children:entry.petrolKm}),/*#__PURE__*/_jsx(\"td\",{children:entry.afterReserveKm}),/*#__PURE__*/_jsx(\"td\",{children:entry.litres}),/*#__PURE__*/_jsx(\"td\",{children:entry.mileage})]},idx))})]})]});};export default Mileage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Mileage","mileageLogs","setMileageLogs","reserves","JSON","parse","localStorage","getItem","petrols","sortedReserves","map","r","type","km","parseFloat","date","Date","sortedPetrols","p","litres","all","sort","a","b","logs","i","length","beforeReserve","petrol","afterReserve","distance","mileage","toFixed","push","toLocaleString","bike","beforeReserveKm","petrolKm","afterReserveKm","style","padding","children","border","cellPadding","borderCollapse","entry","idx"],"sources":["/data/data/com.termux/files/home/petrol-expense-monitor-full/src/components/Mileage.js"],"sourcesContent":["// src/components/Mileage.js\nimport React, { useEffect, useState } from \"react\";\n\nconst Mileage = () => {\n  const [mileageLogs, setMileageLogs] = useState([]);\n\n  useEffect(() => {\n    const reserves = JSON.parse(localStorage.getItem(\"reserveLogs\")) || [];\n    const petrols = JSON.parse(localStorage.getItem(\"petrolLogs\")) || [];\n\n    const sortedReserves = reserves.map((r) => ({\n      ...r,\n      type: \"reserve\",\n      km: parseFloat(r.km),\n      date: new Date(r.date),\n    }));\n\n    const sortedPetrols = petrols.map((p) => ({\n      ...p,\n      type: \"petrol\",\n      km: parseFloat(p.km),\n      litres: parseFloat(p.litres),\n      date: new Date(p.date),\n    }));\n\n    const all = [...sortedReserves, ...sortedPetrols].sort(\n      (a, b) => a.date - b.date\n    );\n\n    const logs = [];\n    for (let i = 0; i < all.length - 2; i++) {\n      if (\n        all[i].type === \"reserve\" &&\n        all[i + 1].type === \"petrol\" &&\n        all[i + 2].type === \"reserve\"\n      ) {\n        const beforeReserve = all[i];\n        const petrol = all[i + 1];\n        const afterReserve = all[i + 2];\n\n        const distance = afterReserve.km - beforeReserve.km;\n        const mileage =\n          petrol.litres && petrol.litres !== 0\n            ? (distance / petrol.litres).toFixed(2)\n            : \"N/A\";\n\n        logs.push({\n          date: afterReserve.date.toLocaleString(),\n          bike: petrol.bike,\n          beforeReserveKm: beforeReserve.km,\n          petrolKm: petrol.km,\n          afterReserveKm: afterReserve.km,\n          litres: petrol.litres,\n          mileage,\n        });\n      }\n    }\n\n    setMileageLogs(logs);\n  }, []);\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h3>ðŸ“Š Mileage Report</h3>\n      {mileageLogs.length === 0 ? (\n        <p>No mileage data to show. Add at least Reserve â†’ Petrol â†’ Reserve.</p>\n      ) : (\n        <table border=\"1\" cellPadding=\"6\" style={{ borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th>S.No</th>\n              <th>Date</th>\n              <th>Bike</th>\n              <th>Before Reserve (Km)</th>\n              <th>Petrol Fill (Km)</th>\n              <th>After Reserve (Km)</th>\n              <th>Litres</th>\n              <th>Mileage (Km/L)</th>\n            </tr>\n          </thead>\n          <tbody>\n            {mileageLogs.map((entry, idx) => (\n              <tr key={idx}>\n                <td>{idx + 1}</td>\n                <td>{entry.date}</td>\n                <td>{entry.bike}</td>\n                <td>{entry.beforeReserveKm}</td>\n                <td>{entry.petrolKm}</td>\n                <td>{entry.afterReserveKm}</td>\n                <td>{entry.litres}</td>\n                <td>{entry.mileage}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n};\n\nexport default Mileage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}